CREATE TABLE IF NOT EXISTS PRODUCTS
(
    ID         BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    NAME       VARCHAR(50) NOT NULL,
    IMAGE_PATH VARCHAR(256) NOT NULL,
    COUNTRY    VARCHAR(20),
    COLOR      VARCHAR(20),
    TYPE       VARCHAR(10) NOT NULL,
    VOLUME     FLOAT,
    PRICE      NUMERIC NOT NULL,
    YEAR       INTEGER
);

CREATE TABLE IF NOT EXISTS USERS
(
    ID       BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    NAME     VARCHAR(20)   NOT NULL,
    SURNAME  VARCHAR(40)   NOT NULL,
    BIRTHDAY DATE      NOT NULL,
    PASSWORD VARCHAR(50)   NOT NULL,
    EMAIL    VARCHAR(30)   NOT NULL UNIQUE,
    CREATED  TIMESTAMP NOT NULL,
    ENABLED  BOOLEAN DEFAULT FALSE,
    ADMIN    BOOLEAN DEFAULT FALSE
);

CREATE TABLE IF NOT EXISTS BASKET
(
    ID         BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    USER_ID    BIGINT  NOT NULL,
    PRODUCT_ID BIGINT  NOT NULL,
    COUNT      INTEGER NOT NULL,
    CONSTRAINT FK_USER FOREIGN KEY (USER_ID) REFERENCES USERS (ID),
    CONSTRAINT FK_PRODUCT FOREIGN KEY (PRODUCT_ID) REFERENCES PRODUCTS (ID)
);